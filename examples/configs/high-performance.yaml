# SDP 高性能配置 - gRPC 模式
# 适用于内网高吞吐场景，追求极致性能

component:
  type: controller
  id: controller-001
  name: SDP Controller (gRPC)
  version: 1.0.0

tls:
  cert_file: /etc/sdp/certs/controller-cert.pem
  key_file: /etc/sdp/certs/controller-key.pem
  ca_file: /etc/sdp/certs/ca-cert.pem
  min_version: TLS1.3  # 使用 TLS 1.3 提升性能

auth:
  token_ttl: 7200s  # 2小时（减少握手频率）
  device_validation: true
  mfa_required: false

policy:
  engine: embedded
  endpoint: ""

logging:
  level: warn  # 减少日志开销
  format: json
  output: stdout
  audit_file: /var/log/sdp/audit.log

transport:
  # Control Plane: gRPC (高性能)
  enable_grpc: true
  grpc_addr: :50051
  
  # HTTP 保留用于健康检查
  http_addr: :8080
  
  # Real-time Notification: gRPC Streams (高性能)
  sse_heartbeat: 60s  # gRPC 模式下不使用 SSE，但需保留配置
  
  # Data Plane: TCP Proxy (固定)
  tcp_proxy_addr: :9443
  
  # 优化超时配置
  read_timeout: 30s
  write_timeout: 30s
  idle_timeout: 120s
